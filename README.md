# SUCKSONEC VPN SERVER
Для настройки сервера необходимо запустить скрипт setup_script.sh (не забыть chmod +x setup_script.sh).
Полный набор комманд
```
sudo chmod +x setup_script.sh
sudo chmod +x vpn
./vpn keygen server.priv server.pub
./setup_script.sh
```
## Генерация ключа сервера
Для генерации ключа сервера необходимо выполнить команду ./vpn keygen <private_key_path> <public_key_path>.
Публичный ключ сервера необходимо БЕЗОПАСНЫМ ОБРАЗОМ доставить клиенту (ssh скорее всего подойдет).

## Добавление пользователей
Необходимо добавить пользователя в файл users.txt. Формат файла следующий:
```
<Username1> <Sha512PasswordHash>
<Username2> <Sha512PasswordHash>
```
Пользователи вводятся построчно, в linux можно использовать/установить sha512 для хеширования пароля.
Если пиздец будет надо, добавлю поддержку PostgreSQL и команды для управления пользователями.

## Настройка сервера (ВАЖНО!!!)
Желательно использовать дефолтные имена для ключей server.priv и server.pub, так как я забыл добавить кастомизацию имен в unit службы.
Обратить внимание на переменный в скрипте:
- CONFIG_FILE="/etc/sysctl.d/99-network-optimization.conf"
- VPN_DIR="/vpn-server/target/release"
- VPN_USER="root"
При установке на "свежий" сервер используя git clone, необходимо будет настроить путь в переменной VPN_DIR (это путь до исполняемого файла vpn).
По умолчанию сервер слушает на порту 8080, сеть VPN 10.0.0.0/24. Это я также забыл вынести в переменные, если нужно поменять это делается также в скрипте в блоке настройки службы.
